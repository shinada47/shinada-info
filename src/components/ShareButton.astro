---
/* src/components/ShareButton.astro */
---
<button 
  id="share-button" 
  class="flex items-center justify-center p-2 rounded-full transition-colors duration-300 text-main hover:bg-page"
  aria-label="サイトをシェア"
>
  <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
    <circle cx="18" cy="5" r="3"/><circle cx="6" cy="12" r="3"/><circle cx="18" cy="19" r="3"/>
    <line x1="8.59" x2="15.42" y1="13.51" y2="17.49"/><line x1="15.41" x2="8.59" y1="6.51" y2="10.49"/>
  </svg>
</button>

<script>
  const btn = document.querySelector('#share-button');
  if (btn) {
    btn.addEventListener('click', () => {
      if (navigator.share) {
        navigator.share({
          title: document.title,
          url: window.location.href
        });
      } else {
        navigator.clipboard.writeText(window.location.href);
        alert('URLをコピーしました！');
      }
    });
  }
</script>